---
description: Git commit rules for a project.
globs:
  - '**/*'
alwaysApply: true
---

# Git Commit Rules

## Commit Message Format

Use conventional commit format:

```bash
<type>(optional scope): <description>

[optional body]

[optional footer(s)]
```

- **Scope**: For extra clarity, especially in larger projects, add a scope in parentheses after the type to indicate the area, file, or feature affected. This is optional but recommended for clarity.

## Commit Types

- `feat`: A new feature
- `fix`: A bug fix
- `docs`: Documentation only changes
- `style`: Changes that do not affect the meaning of the code
- `refactor`: A code change that neither fixes a bug nor adds a feature
- `perf`: A code change that improves performance
- `test`: Adding missing tests or correcting existing tests
- `chore`: Changes to the build process or auxiliary tools

## Examples

```bash
# ✅ Good examples
feat(auth): add user authentication system
fix(form): resolve Cypress test port mismatch
docs(readme): update README with setup instructions
style: format code with prettier
refactor(validation): extract form validation logic
perf(db): optimize database queries
test(user-card): add unit tests for UserCard component
chore(deps): update dependencies

# ✅ Also valid (no scope, for general changes)
feat: add user authentication system

# ❌ Bad examples
feat: add stuff
fix: fix things
docs: update docs
```

## Granular Commits

Each commit should do one thing well:

```bash
# ✅ Good: Granular commits
feat: add user registration form component
feat: add form validation with Zod schema
feat: add registration API endpoint
feat: add success/error notifications

# ❌ Bad: Large commits
feat: implement complete user registration system
```

## Before Committing Checklist

- [ ] Review changes with `git diff --cached`
- [ ] Run tests: `npm test`
- [ ] Check TypeScript: `npm run type-check`
- [ ] Lint code: `npm run lint`
- [ ] Ensure commit message follows conventional format
- [ ] Verify commit is atomic and focused

## Imperative Mood

Use imperative mood in commit messages:

```bash
# ✅ Use imperative mood
feat: add user authentication
fix: resolve navigation bug
docs: update installation guide

# ❌ Avoid other moods
feat: added user authentication
fix: resolved navigation bug
```

## Branch Strategy

- Use feature branches for development
- Keep commits atomic and focused
- Use interactive rebase to clean up commit history
- Merge feature branches into main when complete

## Common Patterns

### Feature Development

```bash
feat: add user registration form component
feat: add form validation with Zod schema
feat: add registration API endpoint
test: add unit tests for registration form
docs: add registration form documentation
```

### Bug Fixes

```bash
fix: resolve Cypress test port mismatch
fix: prevent form submission with empty fields
fix: handle API error responses properly
```

### Refactoring

```bash
refactor: extract form validation logic to custom hook
refactor: simplify component prop interface
refactor: consolidate duplicate API calls
```

## Review Checklist

Before committing, ask yourself:

- [ ] Does this commit do one thing well?
- [ ] Is the commit message clear and descriptive?
- [ ] Are all tests passing?
- [ ] Is the code properly formatted?
- [ ] Are there any unintended changes included?
- [ ] Does this commit make sense on its own?
- [ ] Would this commit be easy to revert if needed?

- [ ] Does this commit make sense on its own?
- [ ] Would this commit be easy to revert if needed?
